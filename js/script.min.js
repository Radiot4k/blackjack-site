"use strict";window.elements={chipTemplate:document.querySelector("#chip-template"),tableShoe:document.querySelector(".table__shoe"),playerHand:document.querySelector("#player"),playerButtons:document.querySelector(".player__buttons"),hit:document.querySelector("#hit"),double:document.querySelector("#double"),surrender:document.querySelector("#surrender"),stop:document.querySelector("#stop"),deal:document.querySelector("#deal"),dealerPoints:document.querySelector(".dealer-points"),playerPoints:document.querySelector(".player-points")},function(){var d=document.querySelector(".player__stack"),c=(document.querySelector(".overlay"),document.querySelector(".bet__circle")),u=document.querySelector(".player__money span"),w=document.querySelector(".bet__value span"),n=function(e,t){switch(t.classList[1]){case"chip--5":window.util.player.chips[5]-=1,window.util.player.money-=100,window.util.player.bet+=100;break;case"chip--4":window.util.player.chips[4]-=1,window.util.player.money-=50,window.util.player.bet+=50;break;case"chip--3":window.util.player.chips[3]-=1,window.util.player.money-=25,window.util.player.bet+=25;break;case"chip--2":window.util.player.chips[2]-=1,window.util.player.money-=10,window.util.player.bet+=10;break;case"chip--1":window.util.player.chips[1]-=1,window.util.player.money-=5,window.util.player.bet+=5;break;case"chip--0":window.util.player.chips[0]-=1,window.util.player.money-=1,window.util.player.bet+=1}var i,n,o,l,a,s,r;i=t.classList.value.slice(-1),n=d.querySelectorAll(".chips__pile--"+i),o=n[n.length-1].lastChild,l=n[n.length-1].getBoundingClientRect(),a=c.getBoundingClientRect(),o.style.transform,s=l.left-a.left,r=l.top-a.top-n[n.length-1].children.length,o.remove(),d.classList.add("z-index-1"),o.style.transform="translate("+s+"px, "+r+"px)",c.appendChild(o),window.setTimeout(window.util.removeAttr,10,o,"style"),window.util.checkPile(d,i),window.setTimeout(window.util.removeClass,410,d,"z-index-1"),u.textContent=window.util.player.money,w.textContent=window.util.player.bet};window.onStackClick=function(e){var t=document.querySelector("#deal"),i=window.util.findAncestor(e.target,"chip");i&&(n(0,i),t.classList.remove("hide")),t.addEventListener("click",window.onDealClick)};var t=function(){var e=c.lastChild;switch(e.classList[1]){case"chip--5":window.util.player.chips[5]+=1,window.util.player.money+=100,window.util.player.bet-=100;break;case"chip--4":window.util.player.chips[4]+=1,window.util.player.money+=50,window.util.player.bet-=50;break;case"chip--3":window.util.player.chips[3]+=1,window.util.player.money+=25,window.util.player.bet-=25;break;case"chip--2":window.util.player.chips[2]+=1,window.util.player.money+=10,window.util.player.bet-=10;break;case"chip--1":window.util.player.chips[1]+=1,window.util.player.money+=5,window.util.player.bet-=5;break;case"chip--0":window.util.player.chips[0]+=1,window.util.player.money+=1,window.util.player.bet-=1}!function(e){var t=e.classList.value.slice(-1),i=d.querySelectorAll(".chips__pile--"+t);0!==i.length&&10!==i[i.length-1].children.length||(window.util.pastePile(d,t),i=d.querySelectorAll(".chips__pile--"+t));e.style.transform;var n=c.getBoundingClientRect(),o=i[i.length-1].getBoundingClientRect(),l=n.left-o.left+n.width/2-o.width/2,a=n.top-o.top+n.width/2-o.width/2-c.children.length;e.remove(),e.style.transform="translate("+l+"px, "+a+"px)",i[i.length-1].appendChild(e),i[i.length-1].classList.add("z-index"),window.setTimeout(window.util.removeAttr,10,e,"style"),window.setTimeout(window.util.removeClass,410,i[i.length-1],"z-index")}(e),u.textContent=window.util.player.money,w.textContent=window.util.player.bet};window.onBetCircleClick=function(e){window.util.findAncestor(e.target,"chip")&&(1===c.children.length&&deal.classList.add("hide"),t())},c.addEventListener("click",onBetCircleClick)}(),window.sortPiles=function(e){var t=e.querySelectorAll(".chips__pile");if(0!==t.length){for(var i=t[0].getBoundingClientRect().width,n=0,o=-1,l=0;l<t.length;l++){l%3==0&&(n=0,o++);var a=n*(i+2),s=o*(i+10);t[l].style.transform="translate("+a+"px, "+s+"px)",n++}e.style.height=(o+1)*(i+10)-10+"px"}},function(){var w=400,e=document.querySelector("body"),a=e.querySelector(".modal"),s=e.querySelector(".modal-overlay"),p=document.querySelector(".overlay"),r=a.querySelector(".context-menu"),h=e.querySelector(".modal-text"),d=function(e){var t,i,n,o;p.classList.remove("hide");var l,a=400,s=document.querySelector(".player__stack"),r=(document.querySelector(".table__chip-rack").getBoundingClientRect(),[]),d=!1,c=2;switch(h.textContent="Exchanging chips...",h.classList.remove("hide"),e.name){case"exchange-1to5":window.util.player.chips[0]-=5,window.util.player.chips[1]+=1,d=!0,c=6,t=0,o=5,n=i=1;break;case"exchange-5to1":window.util.player.chips[1]-=1,window.util.player.chips[0]+=5,!0,o=t=1,i=0,n=5;break;case"exchange-5to10":window.util.player.chips[1]-=2,window.util.player.chips[2]+=1,d=!0,c=6,i=o=2,n=t=1;break;case"exchange-5to25":window.util.player.chips[1]-=5,window.util.player.chips[3]+=1,d=!0,c=6,o=5,i=3,n=t=1;break;case"exchange-10to5":window.util.player.chips[2]-=1,window.util.player.chips[1]+=2,!0,i=o=1,n=t=2;break;case"exchange-10to5and25":window.util.player.chips[2]-=3,window.util.player.chips[1]+=1,window.util.player.chips[3]+=1,d=!0,c=6,t=2,i=o=3,n=1,r.splice(0,0,window.util.createChip(i)),i=1;break;case"exchange-10to50":window.util.player.chips[2]-=5,window.util.player.chips[4]+=1,d=!0,c=6,t=2,o=5,i=4,n=1;break;case"exchange-25to5":window.util.player.chips[3]-=1,window.util.player.chips[1]+=5,!0,t=3,i=o=1,n=5;break;case"exchange-25to5and10":for(window.util.player.chips[3]-=1,window.util.player.chips[1]+=1,window.util.player.chips[2]+=2,!0,t=3,o=1,n=i=2,l=0;l<n;l++)r.splice(0,0,window.util.createChip(i));n=i=1;break;case"exchange-25to50":window.util.player.chips[3]-=2,window.util.player.chips[4]+=1,d=!0,c=6,t=3,o=2,i=4,n=1;break;case"exchange-25to100":window.util.player.chips[3]-=4,window.util.player.chips[5]+=1,d=!0,c=6,t=3,o=4,i=5,n=1;break;case"exchange-50to10":window.util.player.chips[4]-=1,window.util.player.chips[2]+=5,!0,t=4,o=1,i=2,n=5;break;case"exchange-50to25":window.util.player.chips[4]-=1,window.util.player.chips[3]+=2,!0,t=4,o=1,i=3,n=2;break;case"exchange-50to100":window.util.player.chips[4]-=2,window.util.player.chips[5]+=1,d=!0,c=6,t=4,o=2,i=5,n=1;break;case"exchange-100to25":window.util.player.chips[5]-=1,window.util.player.chips[3]+=4,!0,t=5,o=1,i=3,n=4;break;case"exchange-100to50":window.util.player.chips[5]-=1,window.util.player.chips[4]+=2,!0,t=5,o=1,i=4,n=2}var u=window.util.selectChips(s,t,o);for(l=0;l<u.length;l++)u[l].classList.add("chip--exchange-to-dealer"),d&&(window.setTimeout(window.util.addClass,800,u[l],"chip--split-"+u.length),window.setTimeout(window.util.removeClass,1600,u[l],"chip--split-"+u.length)),window.setTimeout(window.util.addClass,a*c,u[l],"chip--delete"),window.setTimeout(window.util.removeElement,a*(c+1),u[l]);for(window.setTimeout(window.util.checkPile,a*(c+2),s,t),l=0;l<n;l++)r.splice(0,0,window.util.createChip(i));window.setTimeout(window.util.addClass,10,h,"opacity-1"),window.setTimeout(window.util.removeClass,a*c,h,"opacity-1"),window.setTimeout(window.util.addClass,a*c+w,h,"hide"),window.setTimeout(window.util.addClass,a*c+w,p,"hide")};window.onStackContextClick=function(e){e.preventDefault();var n=function(e){window.util.isEscEvent(e,o)},o=function(){s.removeEventListener("click",o),a.removeEventListener("click",l),document.removeEventListener("keydown",n),a.classList.remove("modal--show"),window.setTimeout(window.util.addClass,w,a,"hide"),s.classList.remove("modal-overlay--opacity-up"),window.setTimeout(window.util.addClass,w,s,"hide");for(var e=1;e<r.children.length;e++)if(!r.children[e].classList.contains("hide")){window.setTimeout(window.util.addClass,w,r.children[e],"hide");for(var t=r.children[e].querySelectorAll(".context-menu__button"),i=0;i<t.length;i++)t[i].classList.contains("hide")&&window.setTimeout(window.util.removeClass,w,t[i],"hide");break}},l=function(e){a.removeEventListener("click",l);var t=window.util.findAncestor(e.target,"context-menu__button");t?d(t):e.target.classList.contains("context-menu__button")&&d(e.target),o()},t=window.util.findAncestor(e.target,"chip");if(t){var i=a.querySelector(".context-menu__"+t.classList.value.slice(-1));i.classList.remove("hide"),a.classList.remove("hide"),window.setTimeout(window.util.addClass,10,a,"modal--show"),s.classList.remove("hide"),window.setTimeout(window.util.addClass,10,s,"modal-overlay--opacity-up"),function(e){switch(e.classList[0]){case"context-menu__0":window.util.player.chips[0]<5&&(a.classList.add("hide"),s.classList.add("hide"),e.classList.add("hide"));break;case"context-menu__1":if(window.util.player.chips[1]<2){e.querySelector(".context-menu__button--5to10").classList.add("hide"),e.querySelector(".context-menu__button--5to25").classList.add("hide");break}window.util.player.chips[1]<5&&e.querySelector(".context-menu__button--5to25").classList.add("hide");break;case"context-menu__2":if(window.util.player.chips[2]<3){e.querySelector(".context-menu__button--10to5and25").classList.add("hide"),e.querySelector(".context-menu__button--10to50").classList.add("hide");break}window.util.player.chips[2]<5&&e.querySelector(".context-menu__button--10to50").classList.add("hide");break;case"context-menu__3":if(window.util.player.chips[3]<2){e.querySelector(".context-menu__button--25to50").classList.add("hide"),e.querySelector(".context-menu__button--25to100").classList.add("hide");break}window.util.player.chips[3]<4&&e.querySelector(".context-menu__button--25to100").classList.add("hide");break;case"context-menu__4":window.util.player.chips[4]<2&&e.querySelector(".context-menu__button--50to100").classList.add("hide")}}(i),s.addEventListener("click",o),document.addEventListener("keydown",n),a.addEventListener("click",l)}}}(),function(){var e=400,s=document.querySelector(".game__deck"),r=document.querySelectorAll(".game__points"),t=document.querySelector(".game__players-hand"),n=document.querySelector(".game__dealers-hand"),d=0,c=(document.querySelector(".bet__circle"),function(e){e.points=0;for(var t=d=0,i=0,n=e.cards.slice(),o=0;o<n.length;o++)if("A"===n[o].rank){var l=n.splice(o,1);n.splice(n.length,0,l[0])}for(o=0;o<n.length;o++)i=t=n[o].points,"A"===n[o].rank&&(t=21<e.points+11?n[o].points[0]:n[o].points[1],i=n[o].points[0]),e.points+=t,d+=i}),i=function(e){var t;e.classList.contains("game__players-hand")?(t=r[1],window.util.player.cards.splice(window.util.player.cards.length,0,window.util.gameDeck[0]),c(window.util.player),window.util.player.points!==d?r[1].textContent=d+"/"+window.util.player.points:r[1].textContent=window.util.player.points):(t=r[0],window.util.dealer.cards.splice(window.util.dealer.cards.length,0,window.util.gameDeck[0]),c(window.util.dealer),e.lastChild.classList.contains("card--open")?r[0].textContent=window.util.dealer.points:"A"===window.util.dealer.cards[0].rank?r[0].textContent=window.util.dealer.cards[0].points[1]:r[0].textContent=window.util.dealer.cards[0].points),window.util.gameDeck.splice(0,1);var i=e.getBoundingClientRect(),n=s.getBoundingClientRect(),o=document.createElement("div");o.className="card";var l=n.left-i.left,a=n.bottom-i.bottom;o.style.transform="translate("+l+"px, "+a+"px) rotate(-45deg) rotateY(-180deg)",t.before(o),window.setTimeout(window.util.removeAttr,10,o,"style")},o=function(e,t){var i=e.querySelectorAll(".card");i[t].classList.add("card--open"),e.classList.contains("game__players-hand")?window.setTimeout(window.util.addClass,200,i[t],"card--"+window.util.player.cards[t].suit+window.util.player.cards[t].rank):(window.setTimeout(window.util.addClass,200,i[t],"card--"+window.util.dealer.cards[t].suit+window.util.dealer.cards[t].rank),window.setTimeout(window.util.setStyle,200,i[t],"zIndex","1"))},l=function(){21===window.util.dealer.points&&(o(n,1),console.log("dealer has BlackJack"))},a=function(){if(10===window.util.dealer.cards[0].points){var e=n.lastChild,t=e.style.transform,i=t.slice(t.indexOf("translateX(")+11,t.indexOf("px)"));e.style.transform="translate("+(parseInt(i,10)+10)+"px, -10px) rotateY(-180deg) rotate(-5deg)",window.setTimeout(window.util.setStyle,800,e,"transform",t),window.setTimeout(l,800)}else"A"===window.util.dealer.cards[0].rank?(console.log("take insurance?"),window.setTimeout(l,800)):9<=window.util.player.points&&window.util.player.points<=11&&console.log("Remind: You can double bet")},u=function(){window.util.player.points=0,window.util.dealer.points=0,i(t),window.setTimeout(o,e,t,0),window.setTimeout(i,1200,n),window.setTimeout(i,2e3,t),window.setTimeout(o,2400,t,1),window.setTimeout(i,3200,n),window.setTimeout(o,4e3,n,0),r[1].classList.contains("hide")&&(window.setTimeout(window.util.removeClass,2800,r[1],"hide"),window.setTimeout(window.util.addClass,2810,r[1],"opacity-1")),r[0].classList.contains("hide")&&(window.setTimeout(window.util.removeClass,4e3,r[0],"hide"),window.setTimeout(window.util.addClass,4010,r[0],"opacity-1")),window.setTimeout(a,4400)};window.onDealClick=function(){var e=document.querySelector(".game__hand");e.classList.remove("hide"),window.setTimeout(window.util.addClass,2e3,e,"hide");var t=document.querySelector(".player__stack"),i=document.querySelector("#deal"),n=document.querySelector(".bet__circle");t.removeEventListener("click",window.onStackClick),n.removeEventListener("click",window.onBetCircleClick),t.removeEventListener("contextmenu",window.onStackContextClick),i.classList.add("hide"),window.setTimeout(u,2e3)}}();var getTheCard=function(){var e=getRandomNumber(0,gameDeck.length-1),t=gameDeck[e];return gameDeck.splice(e,1),t};window.shuffleCards=function(){var e=document.querySelector(".game__deck").querySelectorAll(".card"),t=document.querySelector(".modal-text");t.textContent="Shuffling cards...",t.classList.remove("hide"),window.setTimeout(window.util.addClass,10,t,"opacity-1"),window.setTimeout(window.util.removeClass,3600,t,"opacity-1"),window.setTimeout(window.util.addClass,4e3,t,"hide");for(var i=0;i<e.length;i++)e[i].classList.add("card--shuffle"),window.setTimeout(window.util.removeClass,4e3,e[i],"card--shuffle");for(i=0;i<5;i++)window.setTimeout(window.util.toggleClass,1200+400*i,e[2],"z-index");window.setTimeout(window.util.toggleClass,4e3,e[2],"z-index"),window.util.gameDeck.sort(function(e,t){return.5<Math.random()?1:-1}),window.util.gameDeck.splice(-window.util.gameDeck.length/4,0,"yellow")},window.newDeck=function(e){for(var t=[{suit:"spades",rank:"2",points:2},{suit:"spades",rank:"3",points:3},{suit:"spades",rank:"4",points:4},{suit:"spades",rank:"5",points:5},{suit:"spades",rank:"6",points:6},{suit:"spades",rank:"7",points:7},{suit:"spades",rank:"8",points:8},{suit:"spades",rank:"9",points:9},{suit:"spades",rank:"10",points:10},{suit:"spades",rank:"J",points:10},{suit:"spades",rank:"Q",points:10},{suit:"spades",rank:"K",points:10},{suit:"spades",rank:"A",points:[1,11]},{suit:"hearts",rank:"2",points:2},{suit:"hearts",rank:"3",points:3},{suit:"hearts",rank:"4",points:4},{suit:"hearts",rank:"5",points:5},{suit:"hearts",rank:"6",points:6},{suit:"hearts",rank:"7",points:7},{suit:"hearts",rank:"8",points:8},{suit:"hearts",rank:"9",points:9},{suit:"hearts",rank:"10",points:10},{suit:"hearts",rank:"J",points:10},{suit:"hearts",rank:"Q",points:10},{suit:"hearts",rank:"K",points:10},{suit:"hearts",rank:"A",points:[1,11]},{suit:"clubs",rank:"2",points:2},{suit:"clubs",rank:"3",points:3},{suit:"clubs",rank:"4",points:4},{suit:"clubs",rank:"5",points:5},{suit:"clubs",rank:"6",points:6},{suit:"hearts",rank:"7",points:7},{suit:"clubs",rank:"8",points:8},{suit:"clubs",rank:"9",points:9},{suit:"clubs",rank:"10",points:10},{suit:"clubs",rank:"J",points:10},{suit:"clubs",rank:"Q",points:10},{suit:"clubs",rank:"K",points:10},{suit:"clubs",rank:"A",points:[1,11]},{suit:"diamonds",rank:"2",points:2},{suit:"diamonds",rank:"3",points:3},{suit:"diamonds",rank:"4",points:4},{suit:"diamonds",rank:"5",points:5},{suit:"diamonds",rank:"6",points:6},{suit:"diamonds",rank:"7",points:7},{suit:"diamonds",rank:"8",points:8},{suit:"diamonds",rank:"9",points:9},{suit:"diamonds",rank:"10",points:10},{suit:"diamonds",rank:"J",points:10},{suit:"diamonds",rank:"Q",points:10},{suit:"diamonds",rank:"K",points:10},{suit:"diamonds",rank:"A",points:[1,11]}],i=0;i<52*e;)for(var n=0;n<t.length;n++)window.util.gameDeck[i]=t[n],i++;window.shuffleCards()},function(){var i=400,n=document.querySelector(".page-header"),e=n.querySelector(".page-header__title"),t=n.querySelector(".start-game"),o=t.querySelectorAll(".button--new-game, .button--continue"),l=o[0],a=o[1],s=n.querySelector(".settings"),r=s.querySelector(".settings__form"),d=r.querySelectorAll("#player-name, #deposit"),c=document.querySelector(".table"),u=c.querySelector(".table__chip-rack"),w=c.querySelector(".player__stack"),p=c.querySelector(".player__money span"),h=!0,m={};try{m.name=localStorage.getItem("BJplayerName"),m.money=localStorage.getItem("BJplayerMoney")}catch(e){h=!1}m.name&&m.money?(a.textContent="Continue as "+m.name,d[0].value=m.name,d[1].value=m.money):a.classList.add("hide");var y=function(){for(var e=window.util.player.money;window.util.player.chips[0]<5&&0<e;)window.util.player.chips[0]+=1,e-=1;for(;window.util.player.chips[1]<5&&5<=e;)window.util.player.chips[1]+=1,e-=5;for(;window.util.player.chips[2]<5&&10<=e;)window.util.player.chips[2]+=1,e-=10;for(;window.util.player.chips[3]<5&&25<=e;)window.util.player.chips[3]+=1,e-=25;for(;window.util.player.chips[4]<5&&50<=e;)window.util.player.chips[4]+=1,e-=50;for(;window.util.player.chips[5]<5&&100<=e;)window.util.player.chips[5]+=1,e-=100;window.util.player.chips[5]+=Math.floor(e/100),e%=100,window.util.player.chips[4]+=Math.floor(e/50),e%=50,window.util.player.chips[3]+=Math.floor(e/25),e%=25,window.util.player.chips[2]+=Math.floor(e/10),e%=10,window.util.player.chips[1]+=Math.floor(e/5),e%=5,window.util.player.chips[0]+=e;for(var t=0;t<window.util.player.chips.length;t++)if(0<window.util.player.chips[t])for(var i=0;i<window.util.player.chips[t];i++){if(i%10==0){var n=window.util.createChipsPile(t);w.appendChild(n)}var o=window.util.createChip(t);n.appendChild(o)}},f=function(e){e.preventDefault(),a.removeEventListener("click",f),n.classList.remove("opacity-1"),window.setTimeout(window.util.addClass,i,n,"hide"),window.setTimeout(window.util.removeClass,i,c,"hide"),window.setTimeout(window.util.addClass,410,c,"opacity-1"),h&&(localStorage.setItem("BJplayerName",d[0].value),localStorage.setItem("BJplayerMoney",d[1].value)),window.util.player.name=d[0].value,window.util.player.money=d[1].value,window.util.dealer.cards=[],window.util.player.cards=[];var t=r.querySelector(".form__radio:checked");u.textContent="Welcome, "+window.util.player.name+"!",p.textContent=window.util.player.money,window.setTimeout(window.newDeck,800,t.value),window.setTimeout(y,i);window.setTimeout(function(){w.addEventListener("click",window.onStackClick),w.addEventListener("contextmenu",window.onStackContextClick)},4500)};l.addEventListener("click",function(){t.classList.remove("opacity-1"),window.setTimeout(window.util.addClass,i,t,"hide"),window.setTimeout(window.util.removeClass,i,s,"hide"),window.setTimeout(window.util.addClass,410,s,"opacity-1"),e.classList.add("page-header__title--opacity"),window.setTimeout(window.util.removeClass,800,e,"page-header__title--opacity"),r.addEventListener("submit",f),d[1].addEventListener("input",function(){d[1].setCustomValidity(1e3<d[1].value?"Maximum $1000!":d[1].value<1?"Minimum $1!":"")})}),a.addEventListener("click",f)}(),window.util={isEscEvent:function(e,t){27===e.keyCode&&t()},Chips:[{name:"type1",value:1},{name:"type2",value:5},{name:"type3",value:10},{name:"type4",value:25},{name:"type5",value:50},{name:"type6",value:100}],findAncestor:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},dealer:{cards:[],points:0},player:{name:"",cards:[],points:0,money:0,chips:[0,0,0,0,0,0],bet:0},gameDeck:[],getRandomNumber:function(e,t){return Math.floor(Math.random()*(t+1-e)+e)},createChipsPile:function(e){var t=document.createElement("li");return t.className="chips__pile chips__pile--"+e,t},createChip:function(e){return document.querySelector("#chip-template").content.querySelector(".chip--"+e).cloneNode(!0)},addClass:function(e,t){e.classList.add(t)},removeClass:function(e,t){e.classList.remove(t)},setStyle:function(e,t,i){e.style[t]=i},selectChips:function(e,t,i){for(var n=e.querySelectorAll(".chips__pile--"+t),o=[],l=0;l<n.length;l++)for(var a=0;a<n[l].children.length;a++)o.splice(0,0,n[l].children[a]);var s=[];for(l=0;l<i;l++)s.splice(0,0,o[l]);return s},getCoordinatesToMove:function(e,t){var i=e.style.transform,n=e.getBoundingClientRect(),o={};return o.x=t.left-n.left+t.width/2-n.width/2+parseInt(i.slice(10,i.indexOf("px")),10),o.y=t.top-n.top+parseInt(i.slice(i.indexOf(",")+2,i.indexOf("px",i.indexOf(","))),10),o},splitChips:function(e,t){for(var i=0;i<e.length;i++){var n=e[i].style.transform,o=n.slice(10,n.indexOf("px"))-20*i*t,l=n.slice(n.indexOf(",")+2,n.indexOf("px",n.indexOf(",")))-i*t;e[i].style.transform="translate("+o+"px, "+l+"px)"}},checkPile:function(e,t){var i=e.querySelectorAll(".chips__pile--"+t);0===i[i.length-1].children.length&&i[i.length-1].remove()},findNeighbor:function(e,t){for(var i={},n=e.querySelectorAll(".chips__pile"),o=0;o<n.length;o++){if(!(n[o].classList.value.slice(-1)<=t)){i.val=n[o],i.pos="next";break}i.val=n[o],i.pos="current"}return i},pastePile:function(e,t){e.querySelectorAll(".chips__pile");var i=window.util.findNeighbor(e,t),n=window.util.createChipsPile(t);switch(i.pos){case"current":i.val.after(n);break;case"next":i.val.before(n);break;default:e.appendChild(n)}},addChipsInPile:function(e,t,i,n){var o=t.querySelectorAll(".chips__pile--"+i);0!==o.length&&10!==o[o.length-1].children.length||(window.util.pastePile(t,i),o=t.querySelectorAll(".chips__pile--"+i));var l=o[o.length-1].getBoundingClientRect(),a=n.getBoundingClientRect(),s=a.left-l.left+a.width/2-l.width/2,r=a.top-l.top;e.style.transform="translate("+s+"px, "+r+"px)",o[o.length-1].appendChild(e)},hideElement:function(e,t,i){switch(i.name){case"opacity":e.style.opacity=i.end;break;case"translateY":e.style.transform=i.end}window.setTimeout(window.util.addClassHide,t,e)},showElement:function(e,t){switch(t.name){case"opacity":e.style.opacity=t.start,window.setTimeout(window.util.setOpacity,10,e,t.end);break;case"transform":e.style.transform=t.start,window.setTimeout(window.util.setTransform,10,e,t.end)}e.classList.remove("hide")},addElement:function(e,t){e.appendChild(t)},removeElement:function(e){e.remove()},removeAttr:function(e,t){e.removeAttribute(t)},toggleClass:function(e,t){e.classList.toggle(t)}};